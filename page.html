<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Reader ‚Ä¢ Action Research Digital Book</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="color-scheme" content="light" />

<style>
  :root{
    --bg1:#fff7f2; --bg2:#ffe7dc;
    --ink:#2a1f1b; --muted:#6b5b55;
    --accent:#ff9f8f; --accent2:#ffb8a8;
    --border:#f2c7bb;
    --shadow:0 18px 45px rgba(60,25,15,.12);
    --radius:22px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Arial, sans-serif;
    color:var(--ink);
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    min-height:100vh;
  }

  .wrap{max-width:1200px;margin:0 auto;padding:18px 16px 110px}
  .top{
    display:flex;justify-content:space-between;align-items:flex-end;
    gap:12px;margin-bottom:12px;flex-wrap:wrap;
  }
  .title{font-weight:800;font-size:18px}
  .chip{
    display:inline-block;
    padding:8px 12px;border-radius:999px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.75);
    color:var(--muted);
    font-size:13px;
    box-shadow: var(--shadow);
  }

  .card{
    border:1px solid var(--border);
    background:rgba(255,255,255,.78);
    border-radius:var(--radius);
    box-shadow: var(--shadow);
    padding:14px;
  }
  img{
    width:100%;
    border-radius:18px;
    border:1px solid rgba(242,199,187,.95);
    background:#fff;
    display:block;
  }
  .err{
    margin-top:10px;
    padding:12px 14px;
    border-radius:14px;
    border:1px dashed rgba(255,159,143,.75);
    background:rgba(255,255,255,.85);
    color:#7a3f33;
    display:none;
    font-size:13px;
  }

  /* bottom pill nav */
  .actions{
    position:fixed;left:0;right:0;bottom:0;
    padding:14px 14px 18px;
    background: linear-gradient(180deg, rgba(255,247,242,0), rgba(255,231,220,.95));
    border-top:1px solid rgba(242,199,187,.85);
  }
  .actionsInner{
    max-width:1200px;margin:0 auto;
    display:flex;gap:12px;justify-content:center;flex-wrap:wrap;
  }
  a.pill, button.pill{
    border:1px solid rgba(242,199,187,.95);
    background: rgba(255,255,255,.78);
    color: var(--ink);
    text-decoration:none;
    padding:12px 18px;
    border-radius:999px;
    font-weight:800;
    display:inline-flex;
    align-items:center;
    gap:10px;
    box-shadow: 0 12px 22px rgba(60,25,15,.10);
    cursor:pointer;
    transition: transform .18s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
  }
  a.pill:hover, button.pill:hover{
    transform: translateY(-2px);
    box-shadow: 0 16px 30px rgba(60,25,15,.14);
    background: rgba(255,255,255,.92);
    border-color: rgba(255,159,143,.65);
  }
  a.pill.primary{
    background: linear-gradient(180deg, rgba(255,159,143,.95), rgba(255,184,168,.95));
    border-color: rgba(255,159,143,.7);
  }
  a.pill.primary:hover{
    background: linear-gradient(180deg, rgba(255,159,143,1), rgba(255,184,168,1));
  }

  @media (max-width:560px){
    .wrap{padding-bottom:140px}
    a.pill, button.pill{width:100%; justify-content:center}
  }
</style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="title">Reader ‚Ä¢ Action Research Digital Book</div>
      <div class="chip" id="label">Loading‚Ä¶</div>
    </div>

    <div class="card">
      <img id="img" alt="page" />
      <div class="err" id="errBox"></div>
    </div>
  </div>

  <nav class="actions">
    <div class="actionsInner">
      <a class="pill" id="prev" href="#">‚¨ÖÔ∏è Prev</a>
      <a class="pill primary" href="index.html">üè† Home</a>
      <a class="pill" id="next" href="#">Next ‚û°Ô∏è</a>
      <button class="pill" type="button" onclick="scrollTo({top:0,behavior:'smooth'})">‚¨ÜÔ∏è Top</button>
    </div>
  </nav>

<script>
  // ===== SETTINGS =====
  var total = 12;

  // ===== Get page number =====
  var q = new URLSearchParams(window.location.search);
  var p = parseInt(q.get("p") || "1", 10);
  if (isNaN(p) || p < 1) p = 1;
  if (p > total) p = total;

  // ===== Build file path =====
  var file = "p" + String(p).padStart(2, "0") + ".jpg";
  var path = "images/" + file;

  // ===== Set labels + nav =====
  document.getElementById("label").textContent = "Page " + p + " / " + total + " ‚Ä¢ " + file;

  document.getElementById("prev").href = (p > 1) ? ("page.html?p=" + (p-1)) : "index.html";
  document.getElementById("next").href = (p < total) ? ("page.html?p=" + (p+1)) : "index.html";

  // ===== Load image with error handling =====
  var img = document.getElementById("img");
  var errBox = document.getElementById("errBox");

  img.onload = function(){
    errBox.style.display = "none";
  };

  img.onerror = function(){
    errBox.style.display = "block";
    errBox.textContent =
      "Image tak jumpa: " + path +
      " | Sila semak folder images dan nama fail (p01.jpg ‚Äì p12.jpg).";
  };

  img.src = path;

  // Keyboard nav
  document.addEventListener("keydown", function(e){
    if (e.key === "ArrowLeft" && p > 1) window.location.href = "page.html?p=" + (p-1);
    if (e.key === "ArrowRight" && p < total) window.location.href = "page.html?p=" + (p+1);
    if (e.key.toLowerCase() === "h") window.location.href = "index.html";
  });
</script>
</body>
</html>
